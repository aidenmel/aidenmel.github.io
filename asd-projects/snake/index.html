<!DOCTYPE html>
<html>

  <head>
    <title>Snake</title>
    <!--Link jQuery and CSS here-->
    <link rel="stylesheet" type="text/css" href="index.css"/>
    <script src="jquery.min.js"></script>
  </head>
  <body id="sky-color">
    <main>
      <header>
        <img src="assets/misc/Apple.png">
        <h1>Snake</h1>
      </header>
      <div id="board"></div>
      <div class="stats">
        <h1 id="score">Score: 0</h1>
        <h1 id="highScore">High Score: 0</h1>
      </div>
    </main>
    <div class="sky">
      <span style="background-image: url(assets/landscape/grass.png);" id="grass"></span>
      <span style="background-image: url(assets/landscape/cloud.png);" id="cloud"></span>
      <span style="background-image: url(assets/landscape/sun.png);" id="sun"></span>
    </div>

    <div class="debug">
      <h6 id="debugger">00:00</h6>
    </div>
    <input type="range" min="1" max="1000" value="50" id="slider">
    <script>
      // Day/Night Cycle

      // Variables
      var sun = document.getElementById('sun');
      var sky = document.getElementById('sky-color');
      var slider = document.getElementById('slider');
      var debugTimer = document.getElementById('debugger')
      var active = false;

      // Functions
      function getDayPercentage(){
        var currentTime = new Date();
        var secondsSinceMidnight = (currentTime.getHours() * 3600) + (currentTime.getMinutes() * 60) + currentTime.getSeconds();
        var totalSecondsInDay = 24 * 3600;
        var Percentage = (secondsSinceMidnight / totalSecondsInDay);

        if (active === false){
          slider.setAttribute('value', Percentage);
        }

        debugTimer.innerHTML = currentTime.getHours() + ':' + currentTime.getMinutes();

        return Percentage
      }

      // On load
      sun.style.animationDelay = '-' + (getDayPercentage() * 1000) + 's'
      sky.style.animationDelay = '-' + (getDayPercentage() * 1000) + 's'

      // Updates every minute
      setInterval(() => {
      sun.style.animationDelay = '-' + (getDayPercentage() * 1000) + 's'
      sky.style.animationDelay = '-' + (getDayPercentage() * 1000) + 's'
      }, 60 * 1000);

      // Easter egg slider
      slider.addEventListener("input", () => {
        sun.style.animationDelay = '-' + (slider.value) + 's'
        sky.style.animationDelay = '-' + (slider.value) + 's'
      })
    </script>
  </body>
  
  <!-- Link index.js here -->
  <script src="index.js"></script>
</html>